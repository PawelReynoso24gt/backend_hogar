import{a as v}from"./axios-B4uVmeYG.js";import{_ as z,r as n,g as D,d as u,m as o,q as g,v as C,F as E,u as I,t as f,H as S,y as m,x as b,b as c,z as U,A as j}from"./index-Dv1Q5dJW.js";const B={name:"Badges",setup(){const t=n(""),e=n(""),i=n(""),a=n(null),p=n([]),r=n(""),s=n(""),_=n(!1),P=D(()=>!!a.value),x=()=>{_.value=!_.value},h=()=>{v.get("http://hogarsantaluisa.test/logins/getLogins").then(l=>{p.value=l.data}).catch(()=>{r.value="Error al cargar usuarios."})},w=()=>{a.value&&v.get(`http://hogarsantaluisa.test/logins/getProjectName/${a.value.usuarios}`).then(l=>{const y=l.data;t.value=y.usuarios,e.value=y.contrasenias,i.value=y.estado.toString()}).catch(()=>{r.value="Error al cargar datos del usuario."})},k=()=>{if(r.value="",s.value="",!t.value||!e.value){r.value="Por favor, completa todos los campos.";return}const l={usuarios:t.value,contrasenias:e.value,estado:i.value};v.post("http://hogarsantaluisa.test/logins/create",l).then(()=>{s.value="Datos guardados correctamente.",h()}).catch(()=>{r.value="Error al guardar los datos."})},M=()=>{if(r.value="",s.value="",!a.value){r.value="Por favor, selecciona un usuario.";return}const l={};if(t.value.trim()!==""&&(l.usuarios=t.value),e.value.trim()!==""&&(l.contrasenias=e.value),i.value.trim()!==""&&(l.estado=i.value),Object.keys(l).length===0){r.value="No hay campos para actualizar.";return}v.put(`http://hogarsantaluisa.test/logins/update/${a.value.usuarios}`,l).then(()=>{s.value="Datos actualizados correctamente.",h()}).catch(()=>{r.value="Error al actualizar los datos."})},V=()=>{t.value="",e.value="",i.value="",a.value=null,r.value="",s.value=""};return h(),{usuarios:t,contrasenias:e,estado:i,selectedProject:a,projects:p,insertar:k,actualizar:M,limpiar:V,cargarDatosProyecto:w,errorMessage:r,successMessage:s,estadoenabled:P,togglePasswordVisibility:x,showPassword:_}}},d=t=>(U("data-v-38950069"),t=t(),j(),t),N={class:"division-container"},A={class:"nombre-fecha-container"},L={class:"id-inputs"},F=d(()=>o("label",null,"Usuarios",-1)),O=["value"],q={class:"nombre-inputs"},G=d(()=>o("label",null,"Usuario",-1)),H={class:"numero-input"},T={class:"nombre-inputs"},J=d(()=>o("label",null,"Contraseñas",-1)),K={class:"numero-input"},Q=["type"],R={class:"fecha-inputs"},W=d(()=>o("label",null,"Estado",-1)),X=["disabled"],Y={key:0,class:"text-danger"},Z={key:1,class:"text-success"},$=d(()=>o("div",{style:{"margin-top":"20px"}},null,-1));function aa(t,e,i,a,p,r){return c(),u("div",null,[o("div",N,[o("div",A,[o("div",L,[F,g(o("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.selectedProject=s),onChange:e[1]||(e[1]=(...s)=>a.cargarDatosProyecto&&a.cargarDatosProyecto(...s))},[(c(!0),u(E,null,I(a.projects,s=>(c(),u("option",{key:s.id,value:s},m(s.usuarios),9,O))),128))],544),[[C,a.selectedProject]])]),o("div",q,[G,o("div",H,[g(o("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>a.usuarios=s),placeholder:"Ingrese el nombre de usuario"},null,512),[[f,a.usuarios]])])]),o("div",T,[J,o("div",K,[g(o("input",{type:a.showPassword?"text":"password","onUpdate:modelValue":e[3]||(e[3]=s=>a.contrasenias=s),placeholder:"Ingrese la contraseña"},null,8,Q),[[S,a.contrasenias]]),o("button",{onClick:e[4]||(e[4]=(...s)=>a.togglePasswordVisibility&&a.togglePasswordVisibility(...s))},m(a.showPassword?"Ocultar":"Mostrar"),1)])]),o("div",R,[W,g(o("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=s=>a.estado=s),disabled:!a.estadoenabled},null,8,X),[[f,a.estado]])])])]),a.errorMessage?(c(),u("p",Y,m(a.errorMessage),1)):b("",!0),a.successMessage?(c(),u("p",Z,m(a.successMessage),1)):b("",!0),$,o("button",{onClick:e[6]||(e[6]=(...s)=>a.insertar&&a.insertar(...s))},"Guardar"),o("button",{onClick:e[7]||(e[7]=(...s)=>a.actualizar&&a.actualizar(...s)),style:{"margin-left":"10px"}},"Actualizar"),o("button",{onClick:e[8]||(e[8]=(...s)=>a.limpiar&&a.limpiar(...s)),style:{"margin-left":"10px"}},"Limpiar")])}const oa=z(B,[["render",aa],["__scopeId","data-v-38950069"]]);export{oa as default};
