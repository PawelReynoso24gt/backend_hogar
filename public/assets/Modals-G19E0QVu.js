import{a as v}from"./axios-B4uVmeYG.js";import{_ as z,r as i,n as D,d,m as t,q as p,v as k,F as E,u as C,t as f,y as g,x as h,b as u,z as N,A as S}from"./index-Dv1Q5dJW.js";const V={name:"Modals",setup(){const s=i(""),e=i(null),r=i(""),a=D([]),n=i(""),c=i(""),o=i(!0),m=()=>{v.get("http://hogarsantaluisa.test/bancos/get").then(l=>{a.splice(0,a.length,...l.data)}).catch(()=>{n.value="Error al cargar bancos."})},B=()=>{r.value&&v.get(`http://hogarsantaluisa.test/bancos/getBancoName/${r.value}`).then(l=>{const _=l.data;s.value=_.banco,e.value=_.estado,o.value=!1}).catch(()=>{n.value="Error al cargar datos del banco."})},x=()=>{if(n.value="",c.value="",!s.value){n.value="Por favor, completa el campo del nombre del banco.";return}const l={banco:s.value};e.value!==null&&(l.estado=e.value),v.post("http://hogarsantaluisa.test/bancos/create",l).then(()=>{c.value="Banco guardado correctamente.",m()}).catch(()=>{n.value="Error al guardar el banco."})},y=()=>{if(n.value="",c.value="",!r.value){n.value="Por favor, selecciona un banco.";return}const l={};if(s.value.trim()!==""&&(l.banco=s.value.trim()),e.value!==null&&(l.estado=e.value),Object.keys(l).length===0){n.value="No hay campos para actualizar.";return}v.put(`http://hogarsantaluisa.test/bancos/updatebyname/${r.value}`,l).then(()=>{c.value="Banco actualizado correctamente.",m()}).catch(()=>{n.value="Error al actualizar el banco."})},M=()=>{s.value="",e.value=null,r.value="",n.value="",c.value="",o.value=!0};return m(),{banco:s,estado:e,selectedBancos:r,bancos:a,insertar:x,actualizar:y,limpiar:M,cargarDatosBanco:B,errorMessage:n,successMessage:c,isDisabled:o}}},b=s=>(N("data-v-66ddf9aa"),s=s(),S(),s),I={class:"division-container"},U={class:"nombre-fecha-container"},w={class:"id-inputs"},A=b(()=>t("label",null,"Bancos",-1)),F=["value"],L={class:"nombre-inputs"},P=b(()=>t("label",null,"Nombre Banco",-1)),j={class:"numero-input"},q={class:"fecha-inputs"},G=b(()=>t("label",null,"Estado",-1)),O=["disabled"],T={key:0,class:"text-danger"},H={key:1,class:"text-success"},J=b(()=>t("div",{style:{"margin-top":"20px"}},null,-1));function K(s,e,r,a,n,c){return u(),d("div",null,[t("div",I,[t("div",U,[t("div",w,[A,p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.selectedBancos=o),onChange:e[1]||(e[1]=(...o)=>a.cargarDatosBanco&&a.cargarDatosBanco(...o))},[(u(!0),d(E,null,C(a.bancos,o=>(u(),d("option",{value:o.banco},g(o.banco),9,F))),256))],544),[[k,a.selectedBancos]])]),t("div",L,[P,t("div",j,[p(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>a.banco=o)},null,512),[[f,a.banco]])])]),t("div",q,[G,p(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>a.estado=o),disabled:a.isDisabled},null,8,O),[[f,a.estado]])])])]),a.errorMessage?(u(),d("p",T,g(a.errorMessage),1)):h("",!0),a.successMessage?(u(),d("p",H,g(a.successMessage),1)):h("",!0),J,t("button",{onClick:e[4]||(e[4]=(...o)=>a.insertar&&a.insertar(...o))},"Guardar"),t("button",{onClick:e[5]||(e[5]=(...o)=>a.actualizar&&a.actualizar(...o)),style:{"margin-left":"10px"}},"Actualizar"),t("button",{onClick:e[6]||(e[6]=(...o)=>a.limpiar&&a.limpiar(...o)),style:{"margin-left":"10px"}},"Limpiar")])}const W=z(V,[["render",K],["__scopeId","data-v-66ddf9aa"]]);export{W as default};
