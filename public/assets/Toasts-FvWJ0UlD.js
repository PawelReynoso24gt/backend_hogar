import{a as d}from"./axios-B4uVmeYG.js";import{_ as x,r as p,n as P,d as i,m as o,q as m,v as k,F as z,u as M,t as T,y as v,x as f,b as l,z as E,A as j}from"./index-Dv1Q5dJW.js";const C={name:"Badges",setup(){const s=p(""),a=p(""),n=P([]),e=p(""),c=p(""),u=()=>{d.get("http://hogarsantaluisa.test/clasificacion/get").then(r=>{n.splice(0,n.length,...r.data)}).catch(()=>{e.value="Error al cargar los tipos de cuenta."})},t=()=>{a.value&&d.get(`http://hogarsantaluisa.test/clasificacion/getTipo/${a.value}`).then(r=>{const y=r.data;s.value=y.tipo}).catch(()=>{e.value="Error al cargar datos del tipo de cuenta."})},_=()=>{if(e.value="",c.value="",!s.value){e.value="Por favor, completa el campo del tipo.";return}const r={tipo:s.value};d.post("http://hogarsantaluisa.test/clasificacion/create",r).then(()=>{c.value="Tipo de cuenta guardado correctamente.",u()}).catch(()=>{e.value="Error al guardar el tipo de cuenta."})},h=()=>{if(e.value="",c.value="",!a.value){e.value="Por favor, selecciona un tipo de cuenta.";return}const r={};if(s.value.trim()!==""&&(r.tipo=s.value),Object.keys(r).length===0){e.value="No hay campos para actualizar.";return}d.put(`http://hogarsantaluisa.test/clasificacion/updateTipo/${a.value}`,r).then(()=>{c.value="Tipo de cuenta actualizado correctamente.",u()}).catch(()=>{e.value="Error al actualizar el tipo de cuenta."})},b=()=>{s.value="",a.value="",e.value="",c.value=""};return u(),{tipo:s,selectedProject:a,projects:n,insertar:_,actualizar:h,limpiar:b,cargarDatosProyecto:t,errorMessage:e,successMessage:c}}},g=s=>(E("data-v-9be8bb62"),s=s(),j(),s),D={class:"division-container"},S={class:"nombre-fecha-container"},B={class:"id-inputs"},I=g(()=>o("label",null,"Tipos de cuentas contables",-1)),V=["value"],N={class:"nombre-inputs"},q=g(()=>o("label",null,"Tipos",-1)),w={class:"numero-input"},A={key:0,class:"text-danger"},F={key:1,class:"text-success"},L=g(()=>o("div",{style:{"margin-top":"20px"}},null,-1));function U(s,a,n,e,c,u){return l(),i("div",null,[o("div",D,[o("div",S,[o("div",B,[I,m(o("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>e.selectedProject=t),onChange:a[1]||(a[1]=(...t)=>e.cargarDatosProyecto&&e.cargarDatosProyecto(...t))},[(l(!0),i(z,null,M(e.projects,t=>(l(),i("option",{value:t.tipo},v(t.tipo),9,V))),256))],544),[[k,e.selectedProject]])]),o("div",N,[q,o("div",w,[m(o("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>e.tipo=t),placeholder:"Escribe el tipo de cuenta que desees agregar"},null,512),[[T,e.tipo]])])])])]),e.errorMessage?(l(),i("p",A,v(e.errorMessage),1)):f("",!0),e.successMessage?(l(),i("p",F,v(e.successMessage),1)):f("",!0),L,o("button",{onClick:a[3]||(a[3]=(...t)=>e.insertar&&e.insertar(...t))},"Guardar"),o("button",{onClick:a[4]||(a[4]=(...t)=>e.actualizar&&e.actualizar(...t)),style:{"margin-left":"10px"}},"Actualizar"),o("button",{onClick:a[5]||(a[5]=(...t)=>e.limpiar&&e.limpiar(...t)),style:{"margin-left":"10px"}},"Limpiar")])}const H=x(C,[["render",U],["__scopeId","data-v-9be8bb62"]]);export{H as default};
