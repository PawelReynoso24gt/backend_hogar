import{a as v}from"./axios-B4uVmeYG.js";import{_ as k,r as i,n as z,d,m as o,q as m,v as M,F as D,u as j,t as _,y as g,x as b,b as u,z as E,A as S}from"./index-Ca4MJmB5.js";const B={name:"Badges",setup(){const s=i(""),t=i(""),n=i(""),e=z([]),r=i(""),c=i(""),a=()=>{v.get("http://hogarsantaluisa.test/proyectos/get").then(l=>{e.splice(0,e.length,...l.data)}).catch(()=>{r.value="Error al cargar proyectos."})},h=()=>{n.value&&v.get(`http://hogarsantaluisa.test/proyectos/getProjectName/${n.value}`).then(l=>{const y=l.data;s.value=y.nombre,t.value=y.estado.toString()}).catch(()=>{r.value="Error al cargar datos del proyecto."})},f=()=>{if(r.value="",c.value="",!s.value||!t.value){r.value="Por favor, completa todos los campos.";return}const l={nombre:s.value,estado:t.value};v.post("http://hogarsantaluisa.test/proyectos/create",l).then(()=>{c.value="Datos guardados correctamente.",a()}).catch(()=>{r.value="Error al guardar los datos."})},x=()=>{if(r.value="",c.value="",!n.value){r.value="Por favor, selecciona un proyecto.";return}const l={};if(s.value.trim()!==""&&(l.nombre=s.value),t.value.trim()!==""&&(l.estado=t.value),Object.keys(l).length===0){r.value="No hay campos para actualizar.";return}v.put(`http://hogarsantaluisa.test/proyectos/update/${n.value}`,l).then(()=>{c.value="Datos actualizados correctamente.",a()}).catch(()=>{r.value="Error al actualizar los datos."})},P=()=>{s.value="",t.value="",n.value="",r.value="",c.value=""};return a(),{nombre:s,estado:t,selectedProject:n,projects:e,insertar:f,actualizar:x,limpiar:P,cargarDatosProyecto:h,errorMessage:r,successMessage:c}}},p=s=>(E("data-v-d7b71e14"),s=s(),S(),s),C={class:"division-container"},N={class:"nombre-fecha-container"},V={class:"id-inputs"},I=p(()=>o("label",null,"Proyecto",-1)),U=["value"],w={class:"nombre-inputs"},A=p(()=>o("label",null,"Nombre Proyecto",-1)),F={class:"numero-input"},L={class:"fecha-inputs"},q=p(()=>o("label",null,"Estado",-1)),G={key:0,class:"text-danger"},O={key:1,class:"text-success"},T=p(()=>o("div",{style:{"margin-top":"20px"}},null,-1));function H(s,t,n,e,r,c){return u(),d("div",null,[o("div",C,[o("div",N,[o("div",V,[I,m(o("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.selectedProject=a),onChange:t[1]||(t[1]=(...a)=>e.cargarDatosProyecto&&e.cargarDatosProyecto(...a))},[(u(!0),d(D,null,j(e.projects,a=>(u(),d("option",{value:a.nombre},g(a.nombre),9,U))),256))],544),[[M,e.selectedProject]])]),o("div",w,[A,o("div",F,[m(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>e.nombre=a)},null,512),[[_,e.nombre]])])]),o("div",L,[q,m(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>e.estado=a)},null,512),[[_,e.estado]])])])]),e.errorMessage?(u(),d("p",G,g(e.errorMessage),1)):b("",!0),e.successMessage?(u(),d("p",O,g(e.successMessage),1)):b("",!0),T,o("button",{onClick:t[4]||(t[4]=(...a)=>e.insertar&&e.insertar(...a))},"Guardar"),o("button",{onClick:t[5]||(t[5]=(...a)=>e.actualizar&&e.actualizar(...a)),style:{"margin-left":"10px"}},"Actualizar"),o("button",{onClick:t[6]||(t[6]=(...a)=>e.limpiar&&e.limpiar(...a)),style:{"margin-left":"10px"}},"Limpiar")])}const Q=k(B,[["render",H],["__scopeId","data-v-d7b71e14"]]);export{Q as default};
